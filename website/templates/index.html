{% extends "base.html" %} 

{% block content %}

<div class ="mx-3 my-3" style="overflow:scroll">    

<div class="container-fluid">

<div class="container-fluid mb-3" style="border: 1px solid black; border-radius: 7px;" id="profile">
  <h1 class="text-center">Profile</h1>
  <img src="/static/img_avatar.png" alt="Avatar" class="img-fluid center-block my-1" style="border-radius: 50%; display: block; margin: auto; height: 20%; width: 20%;">


  <h6 class="my-3"><u><span style="font-weight:bold;">Name: </span></u> {{current_user.first_name + "   " + current_user.last_name}}</h6>
  <h6 class="my-3"><u><span style="font-weight:bold;">E-Mail:</span></u> {{current_user.email}}</h6>

  {% if current_user.boardMember == true %}
  <h6 class="my-3"><u><span style="font-weight:bold;">Member Type:</span></u> Board</h6>

  {% else %}

  <h6 class="my-3"><u><span style="font-weight:bold;">Member Type:</span></u> Regular</h6>

  {% endif %}

  <h6 class="my-3"><u><span style="font-weight:bold;">Total Volunteer Hours:</span></u></h6>
  <h6 class="my-3"><u><span style="font-weight:bold;">Total Volunteer Hours This Year:</span></u> {{current_user.current_hours}}</h6>
  <h6 class="my-3"><u><span style="font-weight:bold;">Pending Hours:</span></u> {{current_user.pending_hours}} </h6>
  <h6 class="my-3"><u><span style="font-weight:bold;">Years Active:</span></u> </h6>

  {% if current_user.verifiedMember == true %}
  <h6 class="my-3"><u><span style="font-weight:bold;"> Verified:</span></u> Yes</h6>
  {% else %}
  <h6 class="my-3"><u><span style="font-weight:bold;"> Verified:</span></u> No</h6>
  {% endif %}
  
  
  {% if current_user.inductedMember == true %}
  <h6 class="my-3"><u><span style="font-weight:bold;"> Induction Status:</span></u>  Inducted </h6>
  {% else %}
  <h6 class="my-3"><u><span style="font-weight:bold;"> Induction Status:</span></u> Not Inducted </h6>
  {% endif %}




  </div>




  <div class = "my-3" style="border: 1px solid black; border-radius: 7px; overflow: scroll;" id = "annoucements">

    <div class ="row container-fluid">
      <div class="col-10">
    <h1 >Announcements:</h1>
        </div>
        <div class="col-2 my-2">
    <form method = "POST" class="dropdown mr-5">
    {{ form.csrf_token }}
    {{ form.opts(class="form-select form-select-sm", **{"onchange":"this.form.submit()"}) }}
    </form>
    </div>
    </div>

   {% if current_announcement != None %}

    <h5 class="mx-3 my-3 d-flex justify-content-center"> {{ current_announcement.announcement_title }} ({{current_announcement.announcement_date_time.month}}/{{current_announcement.announcement_date_time.day}}/{{current_announcement.announcement_date_time.year}})</h5>

    <div class = "mx-5 my-1 ">
      {{"  " + current_announcement.announcement |safe}}
        </div>
        {% if file_name != "NULL" %}

        <a href="/download/{{ current_announcement.file_name }}"><button class="button btn-primary mx-5 my-1">Download File</button></a>
    
        {% endif %}
    
    {% endif %}

    </div>

 


  <div class = "my-3" style=" border: 1px solid black; border-radius: 7px;" id = "past">


    <h1 class="mx-3">Past Events</h1>


{%set pastev = {"January" : 1, "Feburary": 2, "March":3, "April": 4, "May": 5, "June":6,
"July": 7, "August":8, "September": 9, "October":10, "November": 11, "December": 12}
%}

<ul class="nav nav-tabs" id="myTab" role="tablist">
  



  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="January-tab" data-bs-toggle="tab" data-bs-target="#january" type="button" role="tab" aria-controls="janruary" aria-selected="true">January</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="Feburary-tab" data-bs-toggle="tab" data-bs-target="#feburary" type="button" role="tab" aria-controls="feburary" aria-selected="false">Feburary</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="March-tab" data-bs-toggle="tab" data-bs-target="#march" type="button" role="tab" aria-controls="march" aria-selected="false">March</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="april-tab" data-bs-toggle="tab" data-bs-target="#april" type="button" role="tab" aria-controls="april" aria-selected="false">April</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="may-tab" data-bs-toggle="tab" data-bs-target="#may" type="button" role="tab" aria-controls="may" aria-selected="false">May</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="june-tab" data-bs-toggle="tab" data-bs-target="#june" type="button" role="tab" aria-controls="june" aria-selected="false">June</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="july-tab" data-bs-toggle="tab" data-bs-target="#july" type="button" role="tab" aria-controls="july" aria-selected="false">July</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="august-tab" data-bs-toggle="tab" data-bs-target="#august" type="button" role="tab" aria-controls="august" aria-selected="false">August</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="september-tab" data-bs-toggle="tab" data-bs-target="#september" type="button" role="tab" aria-controls="september" aria-selected="false">September</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="october-tab" data-bs-toggle="tab" data-bs-target="#october" type="button" role="tab" aria-controls="october" aria-selected="false">October</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="november-tab" data-bs-toggle="tab" data-bs-target="#november" type="button" role="tab" aria-controls="november" aria-selected="false">November</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="december-tab" data-bs-toggle="tab" data-bs-target="#december" type="button" role="tab" aria-controls="december" aria-selected="false">December</button>
  </li>
</ul>


<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="janurary" role="tabpanel" aria-labelledby="september-tab" style="overflow:scroll">

<table class="table table-striped my-1">
  <thead>
    <tr>
      <th scope="col">Event</th>
      <th scope="col">Date</th>
      <th scope="col">Hyperlink</th>
      <th scope="col">Status</th>
      <th scope="col">Hours</th>
    </tr>
  </thead>
  <tbody>
    {% for past in pastevents %}

    <tr>
      <th scope="row"> {{past.event.event_name}} </th>
      <td>{{past.event.event_time.month}}/{{past.event.event_time.day}}/{{past.event.event_time.year}}</td>
      <td>
<button type="button" class="btn btn-primary" style="background: none!important; border: none; padding: 0!important;color: #069; text-decoration: underline; cursor: pointer;"  data-bs-toggle="modal" data-bs-target="#Target{{past.idreg}}">More Info</button>
<td>{{past.status}}</td>
<td>{{past.event.event_hours}}</td>

{% endfor %}
      
{% for past in pastevents %}
<div class="modal fade" id="Target{{past.idreg}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Kiwanis Festival</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><u><span style="font-weight:bold; ">Location:</span></u> {{past.event.event_location}}</p>
        <br>
        <p><u><span style="font-weight:bold; ">Date:</span></u> {{past.event.event_time.month}}/{{past.event.event_time.day}}/{{past.event.event_time.year}} </p>
        <br>
        <p><u><span style="font-weight:bold; ">Description:</span></u></p>
        {{past.event.more_info |safe}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">N/a</button>
      </div>
    </div>
  </div>
</div> 

{% endfor %}

      </td>

    </tr>
    </tr>
  </tbody>
</table>    
</div>


  <div class="tab-pane fade" id="november" role="tabpanel" aria-labelledby="november-tab">  

    


  </div>
  <div class="tab-pane fade" id="december" role="tabpanel" aria-labelledby="december-tab">   
    
  
  </div>


</div>
        

  </div>









 <div class = " my-3" style=" border: 1px solid black; border-radius: 7px;overflow:scroll" id = "currentEvents">

<h1 class="mx-3"> Current Events </h1>

<table class = "table table-striped my-3">
  <thead>
    <tr>
      <th scope = "col"> Event </th>
      <th scope = "col"> Date  </th>
      <th scope = "col"> Hyperlink </th>
      <th scope = "status"> Status </th>
      <th scope = "hours"> Hours </th>

      <tbody>

     {% for register2 in registered %}   
    <tr>
      <th scope="row"> {{register2.event.event_name}} </th>
      <td> {{register2.event.event_time.month}}/{{register2.event.event_time.day}}/{{register2.event.event_time.year}}</td>
      <td><button type="button" class="btn btn-primary" style="background: none!important; border: none; padding: 0!important;color: #069; text-decoration: underline; cursor: pointer;"  data-bs-toggle="modal" data-bs-target="#Event{{register2.event.event_id}}">More Info</button>
      <td>{{register2.status}}</td>
      <td>{{register2.event.event_hours}}</td>
      
    {% endfor %}    

    {% for register2 in registered %}
<div class="modal fade" id="Event{{register2.event.event_id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> {{register2.event.event_name}}</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><u><span style="font-weight:bold; ">Location:</span></u> {{register2.event.event_location}} </p>
        <br>
        <p><u><span style="font-weight:bold; ">Date:</span></u>  {{register2.event.event_time.month}}/{{register2.event.event_time.day}}/{{register2.event.event_time.year}} </p>
        <br>
        <p><u><span style="font-weight:bold; ">Description:</span></u>
</p>

                 {{register2.event.more_info |safe}}
      </div>
      <div class="modal-footer">
        <form method = "POST">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" name = "reg" value = "unregister/{{register2.event.event_id}}" class="btn btn-primary">Unregister</button>
      </form>
      </div>
    </div>
  </div>
</div>  

{% endfor %}

      
      </td>
     
    </tr>
  </tbody>
</table>    

    

</div>









{% if current_user.boardMember %}
<div class="my-3" style=" border: 1px solid black; border-radius: 7px;" id="pastActions">
  <h1 class="mx-3">Past Actions</h1>

  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button"
        role="tab" aria-controls="home" aria-selected="true">September</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button"
        role="tab" aria-controls="profile" aria-selected="false">October</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button"
        role="tab" aria-controls="contact" aria-selected="false">November</button>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab"
      style="overflow:scroll">

      <table class="table table-striped my-1">
        <thead>
          <tr>
            <th>Student ID</th>
            <th>First</th>
            <th>Last</th>
            <th scope="col">Event</th>
            <th scope="col">Date</th>
            <th scope="col">Hyperlink</th>
            <th scope="col">Status</th>
            <th scope="col">Hours</th>
            <th scope="col">Decision Made By</th>
            <th scope="col">Undo</th>
          </tr>
        </thead>
        <tbody>

          {% for decision in past_decisions %}


          <tr>
            <th scope="row"> {{decision.student.student_id}}</th>
            <td>{{decision.student.first_name}}</td>
            <td>{{decision.student.last_name}}</td>
            <td>{{decision.event.event_name}}</td>
            <td>{{decision.event.event_time.month}}/{{decision.event.event_time.day}}/{{decision.event.event_time.year}}</td>
            <td>
              <button type="button" class="btn btn-primary"
                style="background: none!important; border: none; padding: 0!important;color: #069; text-decoration: underline; cursor: pointer;"
                data-bs-toggle="modal" data-bs-target="#decision{{decision.idreg}}">More Info</button>
            {% if decision.status == "Accepted" %}

            <td style="color:green;">Approved</td>

            {% else %}

            <td style="color:red;">Denied</td>

            {% endif %}

            <td>{{decision.event.event_hours}} hours</td>
            <td> {{decision.decision_student}}</td>
            <form method = "POST">
              <td> <button type="submit" class="btn btn-primary" name = "undo" value = "{{decision.idreg}}"
              style="background: none!important; border: none; padding: 0!important;color: #069; text-decoration: underline; cursor: pointer;">
              Undo </button> </td>
            </form>

            {% endfor %}

            {% for decision in past_decisions %}

              <div class="modal fade" id="decision{{decision.idreg}}" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">{{decision.event.event_name}}</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                      </button>
                    </div>
                    <div class="modal-body">
                      <p><u><span style="font-weight:bold; ">Location:</span></u> {{decision.event.event_location}}</p>
                      <br>
                      <p><u><span style="font-weight:bold; ">Date:</span></u> {{decision.event.event_time.month}}/{{decision.event.event_time.day}}/{{decision.event.event_time.year}}</p>
                      <br>
                      <p><u><span style="font-weight:bold; ">Description:</span></u></p>
                              {{decision.event.more_info |safe}}
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">N/a</button>
                    </div>
                  </div>
                </div>
              </div>


            {% endfor %}
            </td>
            
          </tr>
          <tr>
            <th scope="row">234567</th>
            <td>Larry</td>
            <td>Bird</td>
            <td>Kiwanis Festival</td>
            <td>9/25/2021</td>
            <td><button type="button" class="btn btn-primary"
                style="background: none!important; border: none; padding: 0!important;color: #069; text-decoration: underline; cursor: pointer;"
                data-bs-toggle="modal" data-bs-target="#meet1Modal">More Info</button>

              <div class="modal fade" id="meet1Modal" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">9/15/2021</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                      </button>
                    </div>
                    <div class="modal-body">
                      <p><u><span style="font-weight:bold; ">Location:</span></u> 30 Robert Harp Dr. Livingston
                        NJ, 07039</p>
                      <br>
                      <p><u><span style="font-weight:bold; ">Date:</span></u> 9/15/2021</p>
                      <br>
                      <p><u><span style="font-weight:bold; ">Description:</span></u>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                        ut labore et dolore magna aliqua. Diam quam nulla porttitor massa id neque aliquam. Congue
                        mauris rhoncus aenean vel elit. Aliquam ut porttitor leo a diam sollicitudin tempor. Amet
                        commodo nulla facilisi nullam vehicula ipsum a arcu. Turpis massa sed elementum tempus
                        egestas sed sed risus. Varius vel pharetra vel turpis nunc eget lorem dolor. Nibh cras
                        pulvinar mattis nunc sed. Egestas fringilla phasellus faucibus scelerisque eleifend donec.
                        Faucibus vitae aliquet nec ullamcorper sit amet risus nullam eget. Montes nascetur
                        ridiculus mus mauris vitae. Duis at tellus at urna condimentum mattis pellentesque id
                        nibh. Adipiscing commodo elit at imperdiet. Facilisis sed odio morbi quis commodo odio.
                        Vel quam elementum pulvinar etiam non quam. Dui sapien eget mi proin sed libero enim sed
                        faucibus.
                      </p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">N/a</button>
                    </div>
                  </div>
                </div>
              </div>
            </td>
            <td style="color: red;">Denied</td>
            <td>2 hours</td>
            <td><a href="#">Undo</a></td>
            
          </tr>
        </tbody>
      </table>

    </div>
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
  </div>


  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="September" role="tabpanel" aria-labelledby="nav-home-tab">



      <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">


      </div>
      <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
      <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>


    </div>

  </div>

{% endif %}

</div>
</div>


{% endblock %}

